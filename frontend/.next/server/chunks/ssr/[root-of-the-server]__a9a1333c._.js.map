{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 13, "column": 0}, "map": {"version":3,"sources":["file:///D:/IIIT/VeriFact/frontend/components/ui/button.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\n\r\ntype ButtonProps = React.ButtonHTMLAttributes<HTMLButtonElement> & {\r\n  variant?: \"default\" | \"ghost\";\r\n};\r\n\r\nexport const Button: React.FC<ButtonProps> = ({ className = \"\", variant = \"default\", ...props }) => {\r\n  const base = \"inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors focus:outline-none disabled:opacity-50 disabled:pointer-events-none\";\r\n  const styles =\r\n    variant === \"ghost\"\r\n      ? \"bg-transparent hover:bg-white/10 border border-white/20\"\r\n      : \"bg-white text-black hover:bg-white/90\";\r\n  return <button className={`${base} ${styles} px-4 py-2 ${className}`} {...props} />;\r\n};\r\n\r\nexport default Button;\r\n"],"names":[],"mappings":";;;;;AAAA;;AAOO,MAAM,SAAgC,CAAC,EAAE,YAAY,EAAE,EAAE,UAAU,SAAS,EAAE,GAAG,OAAO;IAC7F,MAAM,OAAO;IACb,MAAM,SACJ,YAAY,UACR,4DACA;IACN,qBAAO,8OAAC;QAAO,WAAW,GAAG,KAAK,CAAC,EAAE,OAAO,WAAW,EAAE,WAAW;QAAG,GAAG,KAAK;;;;;;AACjF;uCAEe","debugId":null}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["file:///D:/IIIT/VeriFact/frontend/components/ui/form.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\nimport { FormProvider } from \"react-hook-form\";\r\n\r\n// Minimal Form wrapper so <Form {...form}> works without strict typing issues\r\nexport function Form(props: any) {\r\n  const { children, ...methods } = props || {};\r\n  return React.createElement(FormProvider as any, methods || {}, children);\r\n}\r\n\r\nexport default Form;\r\n"],"names":[],"mappings":";;;;AACA;AACA;AAFA;;;AAKO,SAAS,KAAK,KAAU;IAC7B,MAAM,EAAE,QAAQ,EAAE,GAAG,SAAS,GAAG,SAAS,CAAC;IAC3C,qBAAO,qMAAA,CAAA,gBAAmB,CAAC,8JAAA,CAAA,eAAY,EAAS,WAAW,CAAC,GAAG;AACjE;uCAEe","debugId":null}},
    {"offset": {"line": 79, "column": 0}, "map": {"version":3,"sources":["file:///D:/IIIT/VeriFact/frontend/components/FormField.tsx"],"sourcesContent":["\"use client\";\r\nimport * as React from \"react\";\r\nimport { Controller, Control } from \"react-hook-form\";\r\n\r\ninterface Props {\r\n  control: Control<any>;\r\n  name: string;\r\n  label?: string;\r\n  placeholder?: string;\r\n  type?: string;\r\n}\r\n\r\nconst FormField: React.FC<Props> = ({ control, name, label, placeholder, type = \"text\" }) => {\r\n  return (\r\n    <div className=\"flex flex-col gap-2\">\r\n      {label && <label className=\"text-sm text-gray-300\">{label}</label>}\r\n      <Controller\r\n        control={control}\r\n        name={name}\r\n        render={({ field, fieldState }) => (\r\n          <>\r\n            <input\r\n              {...field}\r\n              type={type}\r\n              placeholder={placeholder}\r\n              className={`w-full rounded-md bg-white/10 border border-white/20 px-3 py-2 outline-none placeholder:text-gray-400 focus:border-purple-400`}\r\n            />\r\n            {fieldState.error && (\r\n              <span className=\"text-xs text-red-400\">{fieldState.error.message}</span>\r\n            )}\r\n          </>\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormField;\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAYA,MAAM,YAA6B,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,WAAW,EAAE,OAAO,MAAM,EAAE;IACtF,qBACE,8OAAC;QAAI,WAAU;;YACZ,uBAAS,8OAAC;gBAAM,WAAU;0BAAyB;;;;;;0BACpD,8OAAC,8JAAA,CAAA,aAAU;gBACT,SAAS;gBACT,MAAM;gBACN,QAAQ,CAAC,EAAE,KAAK,EAAE,UAAU,EAAE,iBAC5B;;0CACE,8OAAC;gCACE,GAAG,KAAK;gCACT,MAAM;gCACN,aAAa;gCACb,WAAW,CAAC,6HAA6H,CAAC;;;;;;4BAE3I,WAAW,KAAK,kBACf,8OAAC;gCAAK,WAAU;0CAAwB,WAAW,KAAK,CAAC,OAAO;;;;;;;;;;;;;;;;;;;AAO9E;uCAEe","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///D:/IIIT/VeriFact/frontend/firebase/client.ts"],"sourcesContent":["\"use client\";\r\nimport { initializeApp, getApps } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: process.env.NEXT_PUBLIC_FIREBASE_API_KEY,\r\n  authDomain: process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,\r\n  projectId: process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,\r\n  storageBucket: process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,\r\n  messagingSenderId: process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,\r\n  appId: process.env.NEXT_PUBLIC_FIREBASE_APP_ID,\r\n};\r\n\r\nconst app = getApps().length ? getApps()[0] : initializeApp(firebaseConfig);\r\n\r\nexport const auth = getAuth(app);\r\nexport default app;\r\n"],"names":[],"mappings":";;;;AACA;AAAA;AACA;AAAA;AAFA;;;AAIA,MAAM,iBAAiB;IACrB,MAAM;IACN,UAAU;IACV,SAAS;IACT,aAAa;IACb,iBAAiB;IACjB,KAAK;AACP;AAEA,MAAM,MAAM,CAAA,GAAA,gLAAA,CAAA,UAAO,AAAD,IAAI,MAAM,GAAG,CAAA,GAAA,gLAAA,CAAA,UAAO,AAAD,GAAG,CAAC,EAAE,GAAG,CAAA,GAAA,gLAAA,CAAA,gBAAa,AAAD,EAAE;AAErD,MAAM,OAAO,CAAA,GAAA,6MAAA,CAAA,UAAO,AAAD,EAAE;uCACb","debugId":null}},
    {"offset": {"line": 167, "column": 0}, "map": {"version":3,"sources":["file:///D:/IIIT/VeriFact/frontend/components/AuthForm.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { zodResolver } from \"@hookform/resolvers/zod\"\r\nimport { useForm } from \"react-hook-form\"\r\nimport { z } from \"zod\"\r\n\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Form } from \"@/components/ui/form\"\r\nimport Image from \"next/image\"\r\nimport Link from \"next/link\"\r\nimport { toast } from \"sonner\"\r\nimport FormField from \"@/components/FormField\"\r\nimport { useRouter } from \"next/navigation\";\r\nimport { createUserWithEmailAndPassword, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { auth } from \"@/firebase/client\";\r\n\r\n\r\ntype FormType = \"sign-in\" | \"sign-up\";\r\n\r\nconst authFormSchema = (type: FormType) => {\r\n  return z.object({\r\n    name: type === \"sign-up\" ? z.string().min(3) : z.string().optional(),\r\n    email: z.string().email(),\r\n    password: z.string().min(3),\r\n  })\r\n}\r\n\r\nconst AuthForm = ({ type }: { type: FormType }) => {\r\n  const router = useRouter()\r\n  const formSchema = authFormSchema(type)\r\n\r\n  const form = (useForm as any)({\r\n    resolver: zodResolver(formSchema) as any,\r\n    defaultValues: {\r\n      name: \"\",\r\n      email: \"\",\r\n      password: \"\",\r\n    },\r\n  }) as any\r\n\r\n  async function onSubmit(values: z.infer<typeof formSchema>) {\r\n    try {\r\n      if (type === \"sign-up\") {\r\n        const { name, email, password } = values;\r\n\r\n        const userCredentials = await createUserWithEmailAndPassword(auth, email, password);\r\n\r\n        // Store user profile in Firestore via API route\r\n        const upRes = await fetch(\"/api/auth/sign-up\", {\r\n          method: \"POST\",\r\n          headers: { \"content-type\": \"application/json\" },\r\n          body: JSON.stringify({ uid: userCredentials.user.uid, name, email }),\r\n        });\r\n        const upJson = await upRes.json();\r\n        if (!upRes.ok || !upJson?.success) {\r\n          toast.error(upJson?.message || \"Failed to create user profile.\");\r\n          return;\r\n        }\r\n\r\n        // For the desired flow: do NOT establish a session on sign-up.\r\n        // Sign the user out locally so they land on the sign-in screen next.\r\n        try { await auth.signOut(); } catch {}\r\n\r\n        toast.success(\"Account created successfully. Please sign in.\")\r\n        router.push('/sign-in')\r\n      } else {\r\n        const { email, password } = values;\r\n\r\n        const userCredentials = await signInWithEmailAndPassword(auth, email, password);\r\n\r\n        const idToken = await userCredentials.user.getIdToken();\r\n\r\n        if (!idToken) {\r\n          toast.error(\"Sign in failed. Please try again.\");\r\n          return;\r\n        }\r\n\r\n        const sessRes = await fetch(\"/api/auth/session\", {\r\n          method: \"POST\",\r\n          headers: { \"content-type\": \"application/json\" },\r\n          body: JSON.stringify({ idToken }),\r\n        });\r\n        const sessJson = await sessRes.json();\r\n        if (!sessRes.ok || !sessJson?.success) {\r\n          toast.error(sessJson?.message || \"Sign in failed.\");\r\n          return;\r\n        }\r\n\r\n        toast.success(\"Signed in successfully.\")\r\n        router.push('/analyser')\r\n      }\r\n    } catch (err) {\r\n      console.log(err)\r\n      toast.error(`There was an error:${err}`)\r\n    }\r\n  }\r\n\r\n  const isSignIn = type === \"sign-in\"\r\n\r\n  return (\r\n    <div className=\"lg:min-w-[566px]\">\r\n      <div className=\"rounded-2xl border border-white/10 bg-white/5 backdrop-blur px-8 sm:px-10 py-12 shadow-[0_0_60px_rgba(168,85,247,0.15)]\">\r\n        <div className=\"flex flex-col items-center gap-3 text-center\">\r\n          <Image src=\"/img.png\" alt=\"VeriFact logo\" width={44} height={44} className=\"rounded-full ring-1 ring-white/10\" />\r\n          <h2 className=\"text-2xl font-bold\">VeriFact</h2>\r\n          <p className=\"text-sm text-gray-300\">AI‑powered misinformation analysis</p>\r\n        </div>\r\n\r\n        {isSignIn && (\r\n          <div className=\"mt-6 text-sm text-gray-200 bg-white/5 border border-white/10 rounded-lg p-3\">\r\n            You don’t have an account? First\r\n            <Link href=\"/sign-up\" className=\"ml-1 font-semibold underline decoration-purple-400/50 hover:decoration-purple-400\">sign up</Link>\r\n            , then come back here to sign in.\r\n          </div>\r\n        )}\r\n\r\n        <Form {...form}>\r\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"w-full space-y-6 mt-8\">\r\n            {!isSignIn && (\r\n              <FormField\r\n                control={form.control}\r\n                name=\"name\"\r\n                label=\"Name\"\r\n                placeholder=\"Your Name\"\r\n              />\r\n            )}\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"email\"\r\n              label=\"Email\"\r\n              placeholder=\"you@example.com\"\r\n              type=\"email\"\r\n            />\r\n\r\n            <FormField\r\n              control={form.control}\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              placeholder=\"********\"\r\n              type=\"password\"\r\n            />\r\n\r\n            <Button className=\"w-full mt-2\" type=\"submit\">\r\n              {isSignIn ? \"Sign In\" : \"Create account\"}\r\n            </Button>\r\n          </form>\r\n        </Form>\r\n\r\n        <p className=\"text-center mt-6 text-sm text-gray-300\">\r\n          {isSignIn ? \"Don't have an account?\" : \"Already have an account?\"}\r\n          <Link\r\n            href={!isSignIn ? \"/sign-in\" : \"/sign-up\"}\r\n            className=\"font-semibold text-white ml-1 underline decoration-purple-400/50 hover:decoration-purple-400\"\r\n          >\r\n            {isSignIn ? \"Sign Up\" : \"Sign In\"}\r\n          </Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default AuthForm"],"names":[],"mappings":"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","debugId":null}}]
}